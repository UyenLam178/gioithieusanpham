<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Ký</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<main>
    <h2><center>Đăng Ký</center></h2>
    
    <!-- Kiểm tra nếu người dùng đã đăng ký, hiển thị thông báo -->
    <div id="successMessage" style="display: none; color: green;">
        <p>Bạn đã đăng ký thành công. Bạn sẽ được chuyển đến trang đăng nhập ngay bây giờ.</p>
    </div>

    <!-- Form đăng ký -->
    <form id="registerForm" style="display: block;">
        <label for="username">Tên người dùng:</label>
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">Mật khẩu:</label>
        <input type="password" id="password" name="password" required><br><br>

        <label for="confirmPassword">Nhập lại mật khẩu:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" required><br><br>

        <button type="submit">Đăng ký</button>
    </form>
</main>

<footer>
    <p>&copy; 2024 Sản phẩm của nhóm B lớp 50.01.CNTT.D</p>
</footer>

<script>
    // Lắng nghe sự kiện submit form đăng ký
    document.getElementById('registerForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Ngừng hành động mặc định của form

        // Lấy thông tin từ form
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;

        // Kiểm tra mật khẩu có khớp không
        if(password !== confirmPassword) {
            alert('Mật khẩu không khớp!');
            return;
        }

        // Lưu thông tin đăng ký vào localStorage
        const userData = {
            username: username,
            password: password
        };

        // Lưu trữ trạng thái đăng ký thành công
        localStorage.setItem('isRegistered', 'true');
        localStorage.setItem('userData', JSON.stringify(userData));

        // Hiển thị thông báo đăng ký thành công và ẩn form đăng ký
        document.getElementById('successMessage').style.display = 'block';
        document.getElementById('registerForm').style.display = 'none';

        // Chuyển hướng người dùng đến trang đăng nhập
        setTimeout(function() {
            window.location.href = "dangnhap.html";
        }, 3000); // Chờ 3 giây rồi chuyển hướng
    });
</script>

</body>
</html>
